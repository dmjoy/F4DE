File:  README
Date:  October 21, 2010
F4DE Version: 2.2.1


This directory contains the Framework for Detection Evaluation (F4DE)
software package.  It contains a set of evaluation tools for detection
evaluations and for specific NIST-coordinated evaluations listed below.

  *  2007 CLEAR Evaluation. 
      - Domains: Broadcast News, Meeting Room, Surveillance and UAV
      - Measures: Area and Point
    - Detection and Tracking (DT) tools:
      - CLEARDTScorer - The main DT evaluation script.
      - CLEARDTViperValidator - A syntactic and semantic validator for 
        both system output ViPER files and reference annotation files.
    - Text Recognition (TR) tools:
      - CLEARTRScorer - The main TR evaluation script.
      - CLEARTRViperValidator - A syntactic and semantic validator for 
        both system output ViPER files and reference annotation files.
	
  *  2008 TRECVID Surveillance Event Detection Evaluation. 
    - TV08Scorer - The main evaluation script. 
    - TV08ViperValidator - A syntactic and semantic validator for 
      both system output ViPER files and reference annotation files.
    - TV08MergeHelper - A TRECVID '08 ViPER-formatted file merging program.  
    - TV08_BigXML_ValidatorHelper - A helper program (that relies 
      on TV08ViperValidator and TV08MergeHelper) to perform syntactic
      and semantic validation on ViPER-formatted files containing 
      a large number of event observations.
    - TV08ED-SubmissionChecker - A tool designed to help confirm submission
      archives before transmitting them to NIST. 

  *  2009 AVSS Evaluation.
    - AVSS09Scorer - The main evaluation script. 
    - AVSS09ViperValidator - A syntactic and semantic validator for 
      both system output ViPER files and reference annotation files.
    - AVSS09-SubmissionChecker - A tool designed to help confirm submission
      archives before transmitting them to NIST. 

  *  2009 TRECVID Surveillance Event Detection Evaluation. 
    - Same tools as the 2008 TRECVID Surveillance Event Detection Evaluation
      (TV08Scorer, TV08ViperValidator, TV08MergeHelper, 
      TV08_BigXML_ValidatorHelper)
    - TV09ED-SubmissionChecker - A tool designed to help confirm submission
      archives before transmitting them to NIST. 

  *  2010 AVSS Evaluation.
    - Same tools as the 2009 AVSS Evaluation (AVSS09Scorer, 
      AVSS09ViperValidator, AVSS09-SubmissionChecker)

  *  2010 TRECVID Multimedia Event Detection Evaluation. 
    - DEVA_cli - The main evaluation script. 

  *  2010 TRECVID Surveillance Event Detection Evaluation. 
    - Same tools as the 2009 TRECVID Surveillance Event Detection Evaluation
      (TV08Scorer, TV08ViperValidator, TV08MergeHelper,
      TV08_BigXML_ValidatorHelper, TV09ED-SubmissionChecker)
    - TV10SED-SubmissionChecker - A tool designed to help confirm submission
      archives before transmitting them to NIST.


In addition to evaluation tools, the package contains the following related tools:

  * VidAT (common/tools/VidAT)
    - A suite of tools designed to overlay video with boxes, polygons, etc. on 
      a frame-by-frame basis by using the output logs generated by CLEARDTScorer.
      Consult the README within the directory for special installation details
      and usage. VidAT's tools require FFmpeg, Ghostscript, ImageMagick.

  * SQLite_tools (common/tools/SQLite_tools)
    - A suite of tools designed to help interface CSV files and SQLite databases.
      The tool suite requires SQLite.



INSTALLATION
------------

F4DE consists of a set of Perl scripts that can be run under a shell terminal.
It has been confirmed to work under Linux, OS X and Cygwin.
The only pre-requisites of the tool are:
- a recent version of gnuplot (4.2 preferred, with png support)
  to plot DETCurves for TV08Scorer.
- a recent version of xmllint (part of libxml2) to validate XML files
  against their corresponding schema files.
- some Perl modules (available on CPAN [http://www.cpan.org/]). Availability
  of those will be tested during step 1 ('make check') of the installation
  process.
- the 'rsync' tool available in your PATH (used in the installation process)

Installation is a 4 step process:

  1. At minimum, run 'make mincheck' to make sure all required libraries
     and executables are available on the system.
      We recommend running 'make check' to run a full check to confirm
     that all software checks pass [*]. Each individual tool can be tested
     independently from the other, type 'make' in the base F4DE directory
     to see the option list.
      Please note that each tool's individual test can take from a few
     seconds to a few minutes to complete. 
      IMPORTANT: The 'F4DE_BASE' environment variable must not be set
     for this step to complete. Checks are designed to be run before and
     independently from any installation and might not work if the 
     'F4DE_BASE' environment variable is set.      
  2. Set the environment variable 'F4DE_BASE' to be the base directory
     of the F4DE software package installation.
  3. Execute the command 'make install' to copy the executables into 
     '$F4DE_BASE/bin', perl modules into '$F4DE_BASE/lib', XSD and other
     data files into '$F4DE_BASE/lib/data', and available man pages
     in '$F4DE_BASE/man'
  4. Add '$F4DE_BASE/bin' to your PATH environment variable and 
     '$F4DE_BASE/man' to your MANPATH environment variable

[*] If one of the Tools tests fails, please follow the bug reports submission 
instructions detailed in the "TEST CASE BUG REPORT" section.
 For information, in each of those tests, the command line that was run by the
test can be found in the corresponding test number ("res*.txt") file as the
first line in the COMMANDLINE section.


CYGWIN PRE-INSTALLATION NOTES
----------------------------

The tools have been confirmed to work under windows when running cygwin 
(tested under Cygwin 1.7.5-1). 
After downloading the latest "setup.exe" from http://www.cygwin.com/
make sure to add the following when in the "Select Packages":
 - in "Archive", select "unzip"
 - in "Database", select "sqlite3"
 - in "Devel", select "make", "gcc" and "gcc4"
 - in "Libs", select "libxml2"
 - in "Math", select "gnuplot" 
 - in "Net", select "rsync" 
 - in "Perl", select "perl", "perl-ExtUtils-Depends" 
   and "perl-ExtUtils-PkgConfig"

After installation, from shell, run 'cpan' from which you will
want to "install" first the "ExtUtils::CBuilder" package and then 
the following packages: 
 Text::CSV
 Text::CSV_XS
 Math::Random::OO::Uniform
 Math::Random::OO::Normal
 Statistics::Descriptive
 Statistics::Descriptive::Discrete
 DBI
 DBD::SQLite

After this, you should be able to succefully complete "make check" 
and use the tools.

USAGE
-----

A manual page can be printed by each command by executing the command
with the option '--man'.  For example:

   %  TV08Scorer --man

The manual pages contain command line examples for each tool.

To try some command lines with data files, go to the testing directories
relative to the evaluation tool you are trying to test, in 
'CLEAR/test/<TOOLNAME>', 'TrecVid08/test/<TOOLNAME>' or 
'AVSS09/test/<TOOLNAME>' and try the command lines printed on the
first line of the res*.txt test case files.



CONTACT
-------

       Please send bug reports to <nist_f4de@nist.gov>

For the bug report to be useful, please include the command line,
files and text output, including the error message in your email.



TEST CASE BUG REPORT
--------------------

If the error occurred wile doing a 'make check', go in the directory
associated with the tool that failed (for example:
'CLEAR/test/<TOOLNAME>'), and type 'make makecompcheckfiles'. This
process will create a file corresponding to each test number named
"res_test*.txt-comp". These file are (like their .txt equivalent) text
files that can be compared to the original "res_test*.txt" files.

 When a test fails, please send us the "res_test*.txt-comp" file of the
failed test(s) for us to try to understand what happened, as well as 
information about your system (OS, architecture, ...) that you think
might help us.  Thank you for helping us improve F4DE.



AUTHORS
-------

       Martial Michel <martial.michel@nist.gov>

       Vasant Manohar

       Jonathan Fiscus <jonathan.fiscus@nist.gov>

       Jerome Ajot



COPYRIGHT 
---------

This software was developed at the National Institute of Standards and
Technology by employees of the Federal Government in the course of their
official duties.  Pursuant to Title 17 Section 105 of the United States Code
this software is not subject to copyright protection within the United States
and is in the public domain. F4DE is an experimental system.  NIST assumes
no responsibility whatsoever for its use by any party.

THIS SOFTWARE IS PROVIDED "AS IS."  With regard to this software, NIST MAKES
NO EXPRESS OR IMPLIED WARRANTY AS TO ANY MATTER WHATSOEVER, INCLUDING
MERCHANTABILITY, OR FITNESS FOR A PARTICULAR PURPOSE.
