.\" Automatically generated by Pod::Man 2.25 (Pod::Simple 3.20)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "TV08VIPERVALIDATOR 1"
.TH TV08VIPERVALIDATOR 1 "2016-02-12" "perl v5.16.3" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
TV08ViperValidator \- TrecVid08 ViPER XML Validator
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBTV08ViperValidator\fR [\ \fB\-\-help\fR\ |\ \fB\-\-man\fR\ |\ \fB\-\-version\fR\ ]
  [\fB\-\-xmllint\fR\ \fIlocation\fR]\ [\fB\-\-TrecVid08xsd\fR\ \fIlocation\fR]
  [\fB\-\-XMLbase\fR\ [\fIfile]\fR]\ [\fB\-\-gtf\fR]
  [\fB\-\-limitto\fR\ \fIevent1\fR[,\fIevent2\fR[\fI...\fR]]]
  [[\fB\-\-write\fR\ [\fIdirectory\fR]]
  [\fB\-\-ChangeType\fR\ [\fIrandomseed\fR[:\fIfind_value\fR[:\fIforceDetectionScore\fR[:\fIforceDetectionDecision\fR]]]]]
  [\fB\-\-crop\fR\ \fIbeg:end\fR]\ [\fB\-\-WriteMemDump\fR\ [\fImode\fR]]
  [\fB\-\-ForceFilename\fR\ \fIfilename\fR]\ [\fB\-\-pruneEvents\fR]
  [\fB\-\-removeSubEventtypes\fR]
  [\fB\-\-addXtraAttribute\fR\ \fIname:value\fR]\ [\fB\-\-AddXtraTrackingComment\fR]
  [\fB\-\-Remove\fR\ \fItype\fR]
  [\fB\-\-DumpCSV\fR\ \fIcsvkeys\fR]\ \ [\fB\-\-insertCSV\fR\ \fIfile.csv\fR]
  [\fB\-\-ValueDivide\fR\ \fIdiv\fR[\fI:sub\fR]]]
  [\fB\-\-fps\fR\ \fIfps\fR]\ [\fB\-\-ecf\fR\ \fIecffile\fR]
  [\fB\-\-displaySummary\fR\ \fIlevel\fR]\ [\fB\-\-GetminMax\fR]
  \fIviper_source_file.xml\fR [\fIviper_source_file.xml\fR [\fI...\fR]]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBTV08ViperValidator\fR performs a syntactic and semantic validation of the ViPER \s-1XML\s0 file(s) provided on the command line. It can \fIvalidate\fR reference files (see \fB\-\-gtf\fR) as well as system files. It can also rewrite validated files into another directory using the same filename as the original (see \fB\-\-write\fR), and only keep a few selected events in the output file (see \fB\-\-limitto\fR). To obtain a list of recognized events, see \fB\-\-help\fR.
.SH "PREREQUISITES"
.IX Header "PREREQUISITES"
\&\fBTV08ViperValidator\fR relies on some external software and files.
.IP "\fB\s-1SOFTWARE\s0\fR" 4
.IX Item "SOFTWARE"
\&\fIxmllint\fR (part of \fIlibxml2\fR, see http://www.xmlsoft.org/) is required (at least version 2.6.30) to perform the syntactic validation of the source file.
If \fIxmllint\fR is not available in your \s-1PATH\s0, you can specify its location either on the command line (see \fB\-\-xmllint\fR) or by setting the F4DE_XMLLINT environment variable to the full path location of the \fIxmllint\fR executable.
.IP "\fB\s-1FILES\s0\fR" 4
.IX Item "FILES"
The syntactic validation requires some \s-1XML\s0 schema files (full list can be obtained using the \fB\-\-help\fR option).
It is possible to specify their location using the \fB\-\-xsdpath\fR option.
You should not have to specify their location, if you have performed an install and have set the global environment variables.
.IP "\fB\s-1GLOBAL\s0 \s-1ENVIRONMENT\s0 \s-1VARIABLE\s0\fR" 4
.IX Item "GLOBAL ENVIRONMENT VARIABLE"
Once you have installed the software, sextending your \fB\s-1PATH\s0\fR to include F4DE's \fBbin\fR directory should be sufficient for the tools to find their components.
.SH "GENERAL NOTES"
.IX Header "GENERAL NOTES"
\&\fBTV08ViperValidator\fR expect that the files can be validated using 'xmllint' against the TrecVid08 \s-1XSD\s0 file(s) (see \fB\-\-help\fR for files list).
.PP
\&\fBTV08ViperValidator\fR will ignore the \fIconfig\fR section of the \s-1XML\s0 file, as well as discard any xml comment(s).
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-\-addXtraAttribute\fR \fIname:value\fR" 4
.IX Item "--addXtraAttribute name:value"
Add to each \fIEvent\fR \fIObservation\fR an extra attribute to \fIwrite\fR to the \s-1XML\s0 file.
More than one \fB\-addXtraAttribute\fR command line option can be used to add multiple attributes.
Attributes wil be carried over when performing work on \fIObservation\fRs.
.IP "\fB\-\-AddXtraTrackingComment\fR" 4
.IX Item "--AddXtraTrackingComment"
Add to each \fIEvent\fR \fIObservation\fR an extra attribute to \fIwrite\fR to the \s-1XML\s0 file that will contain information about the \fIFile\fR, \fISourcefile\fR, \fIType\fR, \fIEvent\fR, \fISubType\fR, \fI\s-1ID\s0\fR, \fIFramespan\fR and \fIXtraAttribute\fR names.
.IP "\fB\-\-ChangeType\fR [\fIrandomseed\fR[:\fIfind_value\fR[:\fIforceDetectionScore\fR[:\fIforceDetectionDecision\fR]]]]" 4
.IX Item "--ChangeType [randomseed[:find_value[:forceDetectionScore[:forceDetectionDecision]]]]"
Convert a \s-1SYS\s0 to \s-1REF\s0 or a \s-1REF\s0 to \s-1SYS\s0.
The \fIrandomseed\fR is useful if you want to reproduce the result in the future.
Be forewarned that it is possible to reproduce a same output if reusing the \fIrandomseed\fR value but the process and source files have to be the exact same too.
Also, when trying to reproduce a file, it is possible to ask the program to find the file's first random value (see the \s-1XML\s0 sourcefile comment) thanks to the \fIfind_value\fR argument.
.Sp
Using forceDetectionScore or forceDetectionDecision will force the \fIrandom\fR value to be the specified entry (and not be random anymore).
Note that not specifying a value will allow for random mode again, ie using \-\-ChangeType\ :::1 will use the full random mode for \fIDetectionScore\fR but force every \fIDetectionDecision\fR to be true.
.IP "\fB\-\-crop\fR beg:end" 4
.IX Item "--crop beg:end"
Will crop all input ViPER files to the specified range. Only valid when used with the 'write' option.
Note that cropping consists of trimming all seen events to the selected range and then shifting the file to start at 1 again.
.IP "\fB\-\-DumpCSV\fR \fIcsvkeys\fR" 4
.IX Item "--DumpCSV csvkeys"
Will dump into a \fIComma Separated Value\fR (\s-1CSV\s0) file every \fIEvent\fR \fIObservation\fR listed in the source xml file(s) in a human readable form.
\&\fB\-\-fps\fR must be set to use this option.
Multiple \fBDumpCSV\fR entries can be used or \fIcsvkeys\fR can be comma separated. 
The list of authorized and required \fIcsvkeys\fR can be obtained by using \fB\-\-help\fR.
.IP "\fB\-\-displaySummary\fR [\fIlevel\fR]" 4
.IX Item "--displaySummary [level]"
Display a file information summary.
\&\fIlevel\fR is a value from 1 to 6 which will show more information about the \fIEvent\fR seen.
Level 1 will just print the list of events seen (post all modifications applied to the file \*(-- if any), level 2 will also print the number of events per event, and level 3 will add to the print the \s-1ID\s0 list of such events.
Level 4, 5, 6 are repeat of level 1, 2, 3 for pre-modifications comparisons.
.IP "\fB\-\-ecf\fR \fIecffile\fR" 4
.IX Item "--ecf ecffile"
After validating the file, only keep Event Observation within the file that match the \s-1ECF\s0 information.
.IP "\fB\-\-ForceFilename\fR \fIfname\fR" 4
.IX Item "--ForceFilename fname"
Replace the \fIsourcefile\fR's \fIfilename\fR value by  \fIfname\fR.
.IP "\fB\-\-fps\fR \fIfps\fR" 4
.IX Item "--fps fps"
Specify the default sample rate (in frames per second) of the ViPER files.
.IP "\fB\-\-GetminMax\fR" 4
.IX Item "--GetminMax"
For each \s-1SYS\s0 Viper file validated, print this file's \fIDetectionScore\fR minimum and maximum value.
After processing all Viper files, print the global \fIDetectionScore\fR min, max and range values.
.Sp
This option need to have \fBfps\fR set.
.IP "\fB\-\-gtf\fR" 4
.IX Item "--gtf"
Specify that the file to validate is a Reference file (also known as a Ground Truth File)
.IP "\fB\-\-help\fR" 4
.IX Item "--help"
Display the usage page for this program. Also display some default values and information.
.IP "\fB\-\-insertCSV\fR \fIfile.csv\fR" 4
.IX Item "--insertCSV file.csv"
Will insert into the output \s-1XML\s0 file, every \fIEvent\fR \fIObservation\fR listed in the \fIfile.csv\fR.
\&\fB\-\-fps\fR must be set to use this option.
The list of authorized and required \fIcsvkeys\fR can be obtained by using \fB\-\-help\fR.
.IP "\fB\-\-limitto\fR \fIevent1\fR[,\fIevent2\fR[\fI,...\fR]]" 4
.IX Item "--limitto event1[,event2[,...]]"
Used with \fB\-\-write\fR or \fB\-\-XMLbase\fR, only add the provided list of events to output files.
Note that \fBTV08ViperValidator\fR will still check the entire ViPER file before it can limit itself to the selected list of events.
\&\fB\-\-limitto\fR can also use wildcards for sub-Event Types specification such as '*:Mapped' which will request all event types but only \fIMapped\fR subtype.
To note, if you request a subtype for a file that does not contain any, that subtype will be ignored, ie if you request \fIObjectGet:Mapped\fR when the file does not contain any subtype, you will get all \fIObjectGet\fRs.
.IP "\fB\-\-man\fR" 4
.IX Item "--man"
Display this man page.
.IP "\fB\-\-pruneEvents\fR" 4
.IX Item "--pruneEvents"
For each validated event that is re-written, only add to this file's config section, events for which observations are seen
.IP "\fB\-\-Remove\fR \fItype\fR" 4
.IX Item "--Remove type"
Remove information from output ViPER file.
.Sp
Note that it removes data just before the file is rewritten to disk, and therefore data added with the such of \fB\-\-insertCSV\fR will be removed if \fIAllEvents\fR is selected.
.Sp
Removes one of the following:
.RS 4
.IP "\fITrackingComment\fR" 4
.IX Item "TrackingComment"
removes any tracking comment.
.IP "\fIXtraAttributes\fR" 4
.IX Item "XtraAttributes"
removes all Xtra Attributes.
.IP "\fIAllEvents\fR" 4
.IX Item "AllEvents"
removes all seen event observations.
.IP "\fI\s-1ALL\s0\fR" 4
.IX Item "ALL"
does all the previously listed removes.
.RE
.RS 4
.RE
.IP "\fB\-\-removeSubEventtypes\fR" 4
.IX Item "--removeSubEventtypes"
Only useful for specialized Scorer \s-1XML\s0 files containing subtypes information; option will remove those subtypes
.IP "\fB\-\-TrecVid08xsd\fR \fIlocation\fR" 4
.IX Item "--TrecVid08xsd location"
Specify the default location of the required \s-1XSD\s0 files (use \fB\-\-help\fR to get the list of required files).
.IP "\fB\-\-ValueDivide\fR \fIdiv\fR[\fI:sub\fR]" 4
.IX Item "--ValueDivide div[:sub]"
For each \s-1SYS\s0 Viper File's Event's \fIDetectionScore\fR (noted \fIDet\fR), compute:
.RS 4
.IP "\fInewDet\fR = ( \fIDet\fR \- \fIsub\fR ) / \fIdiv\fR" 4
.IX Item "newDet = ( Det - sub ) / div"
.RE
.RS 4
.Sp
and replace \fIDet\fR by \fInewDet\fR in the output file.
.Sp
If \fIsub\fR is not given, its value is set to 0.
.Sp
This option allow a re-normalization of a set of Viper file's \fIDetectionScore\fR  from 0 to 1 (ie 0 to 100%) when, after having run the \fBGetminMax\fR on this same set of files, this option is used with \fIdiv\fR set to the global range obtained and \fIsub\fR to the global min value obtained.
.Sp
This option requires \fBfps\fR to be set.
.RE
.IP "\fB\-\-version\fR" 4
.IX Item "--version"
Display \fBTV08ViperValidator\fR version information.
.IP "\fB\-\-write\fR [\fIdirectory\fR]" 4
.IX Item "--write [directory]"
Once validation has been completed for a given file, \fBTV08ViperValidator\fR will write a new \s-1XML\s0 representation of this file to either the standard output (if \fIdirectory\fR is not set), or will create a file with the same name as the input file in \fIdirectory\fR (if specified).
.IP "\fB\-\-WriteMemDump\fR [\fImode\fR]" 4
.IX Item "--WriteMemDump [mode]"
Write to disk a memory representation of the validated ViPER File.
This memory representation file can be used as the input of the Scorer, Merger and Validator tools.
The mode is the file representation to disk and its values and its default can be obtained using the \fB\-\-help\fR option.
.IP "\fB\-\-xmllint\fR \fIlocation\fR" 4
.IX Item "--xmllint location"
Specify the full path location of the \fBxmllint\fR command line tool if not available in your \s-1PATH\s0.
Can also be set using the \fBF4DE_XMLLINT\fR environment variable.
.IP "\fB\-\-XMLbase\fR \fIfile\fR" 4
.IX Item "--XMLbase file"
Print a \s-1XML\s0 ViPER file with an empty \fIdata\fR section but a populated \fIconfig\fR section, and exit.
It will write the text content to \fIfile\fR if provided.
.SH "USAGE"
.IX Header "USAGE"
.IP "\fBTV08ViperValidator \-\-XMLbase TrecVid08_Base.xml\fR" 4
.IX Item "TV08ViperValidator --XMLbase TrecVid08_Base.xml"
Will generate a valid TrecVid08 ViPER \s-1XML\s0 file with an empty \fIdata\fR section but with all the events in the \fIconfig\fR section.
.IP "\fBTV08ViperValidator \-\-XMLbase TrecVid08_ObjectPut_Embrace_only.xml \-\-limitto ObjectPut,Embrace\fR" 4
.IX Item "TV08ViperValidator --XMLbase TrecVid08_ObjectPut_Embrace_only.xml --limitto ObjectPut,Embrace"
Will generate a valid TrecVid08 ViPER \s-1XML\s0 file with an empty \fIdata\fR section but containing only the \fIObjectPut\fR and \fIEmbrace\fR events in its \fIconfig\fR section.
.IP "\fBTV08ViperValidator \-\-xmllint /local/bin/xmllint \-\-TrecVid08xsd /local/F4DE\-CVS/data sys_test1.xml\fR" 4
.IX Item "TV08ViperValidator --xmllint /local/bin/xmllint --TrecVid08xsd /local/F4DE-CVS/data sys_test1.xml"
Will try to validate the \fIsystem\fR file \fIsys_test1.xml\fR using the \fIxmllint\fR executable located at \fI/local/bin/xmllint\fR and the required \s-1XSD\s0 files found in the \fI/local/F4DE/data\fR directory.
.IP "\fBTV08ViperValidator \-\-gtf ref_test1.xml ref_test2.xml \-\-write /tmp\fR" 4
.IX Item "TV08ViperValidator --gtf ref_test1.xml ref_test2.xml --write /tmp"
Will try to validate the \fIreference\fR files \fIref_test1.xml\fR and \fIref_test2.xml\fR and will write into the \fI/tmp\fR directory, the files \fI/tmp/ref_test1.xml\fR and \fI/tmp/ref_test2.xml\fR if they both pass the validation step.
.IP "\fBTV08ViperValidator sys_test1.xml sys_test2.xl \-\-write /tmp \-\-limitto Embrace\fR" 4
.IX Item "TV08ViperValidator sys_test1.xml sys_test2.xl --write /tmp --limitto Embrace"
Will try to validate the \fIsystem\fR files \fIsys_test1.xml\fR and \fIsys_test2.xml\fR, and will write into the \fI/tmp\fR directory the files \fI/tmp/sys_test1.xml\fR and \fI/tmp/sys_test2.xml\fR containing only the \fIEmbrace\fR event (if they both pass the validation step).
.SH "BUGS"
.IX Header "BUGS"
Please send bug reports to <nist_f4de@nist.gov>
.SH "AUTHORS"
.IX Header "AUTHORS"
Martial Michel <martial.michel@nist.gov>
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
This software was developed at the National Institute of Standards and Technology by employees of the Federal Government in the course of their official duties.  Pursuant to Title 17 Section 105 of the United States Code this software is not subject to copyright protection within the United States and is in the public domain. It is an experimental system.  \s-1NIST\s0 assumes no responsibility whatsoever for its use by any party.
.PP
\&\s-1THIS\s0 \s-1SOFTWARE\s0 \s-1IS\s0 \s-1PROVIDED\s0 \*(L"\s-1AS\s0 \s-1IS\s0.\*(R"  With regard to this software, \s-1NIST\s0 \s-1MAKES\s0 \s-1NO\s0 \s-1EXPRESS\s0 \s-1OR\s0 \s-1IMPLIED\s0 \s-1WARRANTY\s0 \s-1AS\s0 \s-1TO\s0 \s-1ANY\s0 \s-1MATTER\s0 \s-1WHATSOEVER\s0, \s-1INCLUDING\s0 \s-1MERCHANTABILITY\s0, \s-1OR\s0 \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0.
.SH "POD ERRORS"
.IX Header "POD ERRORS"
Hey! \fBThe above document had some coding errors, which are explained below:\fR
.IP "Around line 887:" 4
.IX Item "Around line 887:"
\&'=item' outside of any '=over'
.IP "Around line 907:" 4
.IX Item "Around line 907:"
You forgot a '=back' before '=head1'
