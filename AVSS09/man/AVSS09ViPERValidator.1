.\" Automatically generated by Pod::Man 2.25 (Pod::Simple 3.20)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "AVSS09VIPERVALIDATOR 1"
.TH AVSS09VIPERVALIDATOR 1 "2016-06-13" "perl v5.16.3" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
AVSS09ViPERValidator \- AVSS09 ViPER XML Validator
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBAVSS09ViPERValidator\fR [\ \fB\-\-help\fR\ |\ \fB\-\-man\fR\ |\ \fB\-\-version\fR\ ]
  [\fB\-\-xmllint\fR\ \fIlocation\fR]\ [\fB\-\-CLEARxsd\fR\ \fIlocation\fR]
  [\fB\-\-gtf\fR]\ [\fB\-\-frameTol\fR\ \fIframenbr\fR]
  [\fB\-\-ForceFilename\fR\ \fIfilename\fR]
  [\fB\-\-write\fR\ [\fIdirectory\fR]
   [\fB\-\-WriteMemDump\fR\ [\fImode\fR]\ [\fB\-\-skipScoringSequenceMemDump\fR]]
   [\fB\-\-overwriteNot\fR]]
  [\fB\-\-OneFilePerPersonID\fR]
  [\fB\-\-ECF\fR\ \fIecffile.xml\fR\ [\fB\-\-TrackingTrialsDir\fR]
   [\fB\-\-trackingTrial\fR\ \fIttid\fR\ [\fB\-\-quitTTID\fR]]
   [\fB\-\-AVSSxsd\fR\ \fIlocation\fR]]
  \fIviper_source_file.xml\fR[\fItransformations\fR]
  [\fIviper_source_file.xml\fR[\fItransformations\fR]\ [\fI...\fR]]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBAVSS09ViPERValidator\fR performs a syntactic and semantic validation of the ViPER \s-1XML\s0 file(s) provided on the command line. It can \fIvalidate\fR reference files (see \fB\-\-gtf\fR) as well as system files. It can also rewrite validated files into another directory using the same filename as the original (see \fB\-\-write\fR), write a \fImemory representation\fR of the ViPER file post validation (to hasten reload time), as well as a \fIScoring Sequence\fR \fImemory representation\fR to be used for scoring.
.SH "PREREQUISITES"
.IX Header "PREREQUISITES"
\&\fBAVSS09ViPERValidator\fR relies on some external software and files, most of which associated with the \fB\s-1CLEAR\s0\fR section of \fBF4DE\fR.
.IP "\fB\s-1SOFTWARE\s0\fR" 4
.IX Item "SOFTWARE"
\&\fIxmllint\fR (part of \fIlibxml2\fR, see http://www.xmlsoft.org/) is required (at least version 2.6.30) to perform the syntactic validation of the source file.
If \fIxmllint\fR is not available in your \s-1PATH\s0, you can specify its location either on the command line (see \fB\-\-xmllint\fR) or by setting the F4DE_XMLLINT environment variable to the full path location of the \fIxmllint\fR executable.
.IP "\fB\s-1FILES\s0\fR" 4
.IX Item "FILES"
The syntactic validation requires some \s-1XML\s0 schema files (see the \fBCLEARDTScorer\fR help section for a list of the required files).
It is possible to specify their location using the \fB\-\-xsdpath\fR option.
You should not have to specify their location, if you have performed an install and have set the global environment variables.
.IP "\fB\s-1GLOBAL\s0 \s-1ENVIRONMENT\s0 \s-1VARIABLES\s0\fR" 4
.IX Item "GLOBAL ENVIRONMENT VARIABLES"
Once you have installed the software, extending your \fB\s-1PATH\s0\fR to include F4DE's \fBbin\fR directory should be sufficient for the tools to find their components.
.SH "GENERAL NOTES"
.IX Header "GENERAL NOTES"
\&\fBAVSS09ViPERValidator\fR expects that the files can be validated using 'xmllint' against the \fB\s-1CLEAR\s0\fR \s-1XSD\s0 file(s) (see \fB\-\-help\fR for files list).
.PP
\&\fBAVSS09ViPERValidator\fR will use the core validation of the \fB\s-1CLEAR\s0\fR code and add some specialized checks associated with the \fB\s-1AVSS09\s0\fR evaluation.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-\-AVSSxsd\fR \fIlocation\fR" 4
.IX Item "--AVSSxsd location"
Specify the default location of the required \s-1AVSS\s0 \s-1XSD\s0 files.
.IP "\fB\-\-CLEARxsd\fR \fIlocation\fR" 4
.IX Item "--CLEARxsd location"
Specify the default location of the required \s-1CLEAR\s0 \s-1XSD\s0 files.
.IP "\fB\-\-ECF\fR \fIecffile.xml\fR" 4
.IX Item "--ECF ecffile.xml"
When rewriting \s-1XML\s0 and MemDump, for a given \fItracking trial \s-1ID\s0\fR apply the rules specified in the \s-1ECF\s0 to the \fIsourcefile filename\fR corresponding entry.
.IP "\fB\-\-ForceFilename\fR \fIfile\fR" 4
.IX Item "--ForceFilename file"
Replace the \fIsourcefile\fR's \fIfilename\fR value by \fIfile\fR.
.IP "\fB\-\-frameTol\fR \fIframenbr\fR" 4
.IX Item "--frameTol framenbr"
The frame tolerance allowed for attributes to be outside of the object framespan.
Default value can be obtained by using \fB\-\-help\fR.
.IP "\fB\-\-gtf\fR" 4
.IX Item "--gtf"
Specify that the files to validate are Reference files (also known as a Ground Truth Files)
.IP "\fB\-\-help\fR" 4
.IX Item "--help"
Display the usage page for this program. Also display some default values and information.
.IP "\fB\-\-man\fR" 4
.IX Item "--man"
Display this man page.
.IP "\fB\-\-OneFilePerPersonID\fR" 4
.IX Item "--OneFilePerPersonID"
When writing validated files to disk, create one file per \s-1PERSON\s0 \s-1ID\s0 seen in the file.
.Sp
The output filename will be composed of the input file name with \-PID_XXX, placed before the file extension, where \s-1XXX\s0 is the \s-1ID\s0 written on 3 digits.
.IP "\fB\-\-overwriteNot\fR" 4
.IX Item "--overwriteNot"
When rewriting \s-1XML\s0 or MemDumps, the default is to overwrite previously generated files. This option inhibit this feature: it will force files to not be overwritten and the program will exit with an error status.
.IP "\fB\-\-quitTTID\fR" 4
.IX Item "--quitTTID"
When checking a specified \fItracking trial \s-1ID\s0\fR, exit with an error message if the files listed on the command line to be validated are not part of this \s-1TTID\s0 (or if not all the files needed to validate this given \s-1TTID\s0 are present).
.IP "\fB\-\-skipScoringSequenceMemDump\fR" 4
.IX Item "--skipScoringSequenceMemDump"
Do not generate the \fIScoring Sequence\fR memory representation when generating the validated ViPER file memory representation.
This representation can be used by the scoring program.
.IP "\fB\-\-TrackingTrialsDir\fR" 4
.IX Item "--TrackingTrialsDir"
When rewriting \s-1XML\s0 or MemDumps into the \fB\-\-write\fR \fIdirectory\fR, place those files in a directory structure that match the \fI\s-1ECF\s0\fR specifications for a given \fItracking trial \s-1ID\s0\fR that can be reloaded by the \fBAVSS09Scorer\fR program with the \fI\s-1ECF\s0\fR information only.
.Sp
This directory structure is of the form:
.Sp
\&\fIwrite directory\fR/\fItracking trial type\fR/\fItracking trial \s-1ID\s0\fR/\fIsourcefile filename\fR/\fI\s-1XML\s0 file type\fR/\fIsourcefile filename\fR.xml
.Sp
For example, if the \fIAVSS09ViPERValidator\fR was asked to validate a \fI\s-1GTF\s0\fR which \fIsourcefile filename\fR (the filename part of the \fIfile\fR specified in the \s-1XML\s0's \fIsourcefile\fR section) was MCTTR0104a.mov, given an \fI\s-1ECF\s0\fR file defining two \fItracking trial \s-1ID\s0\fRs for that \fIsourcefile filename\fR called \s-1CPSPT_01\s0 and \s-1SCSPT_02\s0 (respectively of \fI tracking trial type\fRs cpspt and scspt). Given a requested \fIwrite directory\fR of PostECF, the validation process will generate two \s-1XML\s0 files:
.Sp
PostECF/cpspt/CPSPT_01/MCTTR0104a.mov/GTF/MCTTR0104a.mov.xml
.Sp
PostECF/scspt/SCSPT_02/MCTTR0104a.mov/GTF/MCTTR0104a.mov.xml
.IP "\fB\-\-trackingTrial\fR \fIttid\fR" 4
.IX Item "--trackingTrial ttid"
When processing files, only rewrite the ones that are defined in the \fI\s-1ECF\s0\fR as part of the specified \fIttid\fR
.IP "\fB\-\-version\fR" 4
.IX Item "--version"
Display \fBAVSS09ViPERValidator\fR version information.
.IP "\fB\-\-write\fR [\fIdirectory\fR]" 4
.IX Item "--write [directory]"
Once validation has been completed for a given file, \fBAVSS09ViPERValidator\fR will write a new \s-1XML\s0 representation of this file to either the standard output (if \fIdirectory\fR is not set), or will create a file with the same name as the input file in \fIdirectory\fR (if specified).
.IP "\fB\-\-WriteMemDump\fR [\fImode\fR]" 4
.IX Item "--WriteMemDump [mode]"
Write to disk a memory representation of the validated ViPER File.
This memory representation file can be used as the input of other \s-1AVSS09\s0 tools.
The mode is the file representation to disk and its values and its default can be obtained using the \fB\-\-help\fR option.
.IP "\fB\-\-xmllint\fR \fIlocation\fR" 4
.IX Item "--xmllint location"
Specify the full path location of the \fBxmllint\fR command line tool if not available in your \s-1PATH\s0.
Can also be set using the \fBF4DE_XMLLINT\fR environment variable.
.SH "TRANSFORMATIONS"
.IX Header "TRANSFORMATIONS"
Transformations are an easy way to influence the content of the ViPER file.
.PP
Syntax: [:\fBFSshift\fR][@\fBBBmod\fR][#\fBIDadd\fR]
.IP "\fBFSshift\fR" 4
.IX Item "FSshift"
It is the number of frames to add or subtract from every framespan within the specified file.
.IP "\fBBBmod\fR" 4
.IX Item "BBmod"
It is the \fIbounding box\fR modifications of the form \fIX\fR+\fIY\fRx\fIM\fR, where \fIX\fR and \fIY\fR add or subtract and \fIM\fR multiply.
Such that if a \fIbounding box\fR if defined by x,y,h,w, new\ x\ =\ (x\ *\ M)\ +\ X, new\ y\ =\ (y\ *\ M)\ +\ Y, new\ h\ =\ h\ *\ M, and <new w = w * M>.
.IP "\fBIDadd\fR" 4
.IX Item "IDadd"
It is the number of \s-1ID\s0 to add or subtract to every \s-1PERSON\s0 \s-1ID\s0 seen within the specified file.
Such that if a \fIperson \s-1ID\s0\fR is \s-1ID\s0, then new\ \s-1ID\s0\ =\ \s-1ID\s0\ +\ IDadd.
.SH "USAGE"
.IX Header "USAGE"
.IP "\fBAVSS09ViPERValidator \-\-xmllint /local/bin/xmllint \-\-TrecVid08xsd /local/F4DE\-CVS/data sys_test1.xml\fR" 4
.IX Item "AVSS09ViPERValidator --xmllint /local/bin/xmllint --TrecVid08xsd /local/F4DE-CVS/data sys_test1.xml"
Will try to validate the \fIsystem\fR file \fIsys_test1.xml\fR using the \fIxmllint\fR executable located at \fI/local/bin/xmllint\fR and the required \s-1XSD\s0 files found in the \fI/local/F4DE/data\fR directory.
.IP "\fBAVSS09ViPERValidator \-\-gtf ref_test1.xml:100@\-10+20x0.5#5 ref_test2.xml \-\-frameTol 5 \-\-write /tmp \-\-WriteMemDump text\fR" 4
.IX Item "AVSS09ViPERValidator --gtf ref_test1.xml:100@-10+20x0.5#5 ref_test2.xml --frameTol 5 --write /tmp --WriteMemDump text"
Will try to validate the \fIreference\fR files \fIref_test1.xml\fR and \fIref_test2.xml\fR using a tolerance of 5 frames for attributes to be ouside of the object framespan.
For \fIref_test1.xml\fR, it will also add 100 frames to each framespan found within the file, modify the \fIbounding box\fR by substracting 10 from each X coordinate, adding 20 to each Y, and multiplying each resulting coordinate by 0.5, and add 5 to each object \s-1ID\s0 seen. 
It will then write to the \fI/tmp\fR directory a \s-1XML\s0 rewrite of both files, as well as a ViPER file memory represenation (in text format) and a scoring sequence memory representation.
.IP "\fBAVSS09ViPERValidator sys_test1.xml sys_test2.xml \-\-ForceFilename ff.xml \-\-write /tmp \-\-WriteMemDump gzip \-\-skipScoringSequenceMemDump\fR" 4
.IX Item "AVSS09ViPERValidator sys_test1.xml sys_test2.xml --ForceFilename ff.xml --write /tmp --WriteMemDump gzip --skipScoringSequenceMemDump"
Will try to validate the \fIsystem\fR files \fIsys_test1.xml\fR and \fIsys_test2.xml\fR, changing for files the \fIsourcefile filename\fR within to \fIff.xml\fR.
Then write into the \fI/tmp\fR directory both files and their ViPER file memory represenation (in compressed format, to save some disk space).
.IP "\fBAVSS09ViPERValidator \-\-gtf gtf_test1.xml gtf_test2.xml \-\-write /tmp \-\-WriteMemDump gzip \-\-ECF test_ecf.xml \-\-TrackingTrialsDir \-\-trackingTrial \s-1CPSPT_01\s0\fR" 4
.IX Item "AVSS09ViPERValidator --gtf gtf_test1.xml gtf_test2.xml --write /tmp --WriteMemDump gzip --ECF test_ecf.xml --TrackingTrialsDir --trackingTrial CPSPT_01"
Will try to validate the \fIreference\fR files \fIgtf_test1.xml\fR and \fIgtf_test2.xml\fR.
It will then write \s-1XML\s0 and both \s-1XML\s0 file and Scoring Sequence MemDumps into the \fI/tmp\fR directory the files corresponding to the \fItest_ecf.xml\fR \fI\s-1ECF\s0\fR definition of the \fI\s-1CPSCPT_01\s0\fR \fItracking trial \s-1ID\s0\fR, following a directory structure that can be used by the \fIAVSS09Scorer\fR tool.
.SH "BUGS"
.IX Header "BUGS"
Please send bug reports to <nist_f4de@nist.gov>
.SH "AUTHORS"
.IX Header "AUTHORS"
Martial Michel <martial.michel@nist.gov>
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
This software was developed at the National Institute of Standards and Technology by employees of the Federal Government in the course of their official duties.  Pursuant to Title 17 Section 105 of the United States Code this software is not subject to copyright protection within the United States and is in the public domain. It is an experimental system.  \s-1NIST\s0 assumes no responsibility whatsoever for its use by any party.
.PP
\&\s-1THIS\s0 \s-1SOFTWARE\s0 \s-1IS\s0 \s-1PROVIDED\s0 \*(L"\s-1AS\s0 \s-1IS\s0.\*(R"  With regard to this software, \s-1NIST\s0 \s-1MAKES\s0 \s-1NO\s0 \s-1EXPRESS\s0 \s-1OR\s0 \s-1IMPLIED\s0 \s-1WARRANTY\s0 \s-1AS\s0 \s-1TO\s0 \s-1ANY\s0 \s-1MATTER\s0 \s-1WHATSOEVER\s0, \s-1INCLUDING\s0 \s-1MERCHANTABILITY\s0, \s-1OR\s0 \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0.
.SH "POD ERRORS"
.IX Header "POD ERRORS"
Hey! \fBThe above document had some coding errors, which are explained below:\fR
.IP "Around line 704:" 4
.IX Item "Around line 704:"
\&'=item' outside of any '=over'
.IP "Around line 724:" 4
.IX Item "Around line 724:"
You forgot a '=back' before '=head1'
